(function(){"use strict";function e(){if("oninput"in document.body)return!0;document.body.setAttribute("oninput","return");var e="function"==typeof document.body.oninput;return delete document.body.oninput,e}function o(){return"onpropertychange"in document.body}var n=this.$,t={resize:n.noop,minRows:1,maxRows:0};n.fn.autoResize=function(r){var s=n.extend({},t,r);return this.filter("textarea").each(function(){var t=n(this).css({"overflow-y":"hidden",height:"auto",resize:"none"}),r=t.get(0),i=function(){var e=r.value,o=r.rows;r.value="",r.rows=1,r.baseScrollHeight=r.scrollHeight,r.value=e,r.rows=o},u=function(){return!!r.scrollHeight&&(!!r.baseScrollHeight||(i(),!0))},c=function(){if(!u())return!1;var e=parseInt(t.css("line-height"));r.rows=s.minRows;var o=Math.ceil((r.scrollHeight-r.baseScrollHeight)/e)+1;s.maxRows>s.minRows&&o>s.maxRows?(r.rows=s.maxRows,t.css({"overflow-y":"auto"})):(r.rows=Math.max(o,s.minRows),t.css({"overflow-y":"hidden"}))};(!r.rows||r.rows<s.minRows)&&(r.rows=s.minRows),t.off(".resize"),e()?t.on("input.resize",c):o()?t.on("propertychange.resize",c):t.on("keypress.resize",c),t.one("focus",c),c()}),this}}).call(this);